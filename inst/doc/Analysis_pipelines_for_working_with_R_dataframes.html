<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1">

<meta name="author" content="Naren Srinivasan, Sanjay" />

<meta name="date" content="2018-11-13" />

<title>Analysis pipelines - Core functionality and working with R data frames and functions</title>



<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>



<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#header {
text-align: center;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; }  code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">Analysis pipelines - Core functionality and working with R data frames and functions</h1>
<h4 class="author">Naren Srinivasan, Sanjay</h4>
<h4 class="date">11/13/2018</h4>


<div id="TOC">
<ul>
<li><a href="#an-overview-of-the-package">An overview of the package</a><ul>
<li><a href="#types-of-pipelines">Types of pipelines</a></li>
<li><a href="#classes-and-implementation">Classes and implementation</a></li>
<li><a href="#pipelining-semantics">Pipelining semantics</a></li>
<li><a href="#supported-engines">Supported engines</a></li>
<li><a href="#available-vignettes">Available vignettes</a></li>
</ul></li>
<li><a href="#usage">Usage</a><ul>
<li><a href="#loading-the-package">Loading the package</a></li>
<li><a href="#creating-an-analysispipeline-object">Creating an analysisPipeline object</a></li>
<li><a href="#creating-a-simple-pipeline">Creating a simple pipeline</a></li>
<li><a href="#lazy-evaluation">Lazy evaluation</a></li>
</ul></li>
<li><a href="#user-defined-functions">User-defined functions</a><ul>
<li><a href="#registering-your-own-function">Registering your own function</a></li>
<li><a href="#adding-the-newly-registered-function-to-a-pipeline">Adding the newly registered function to a pipeline</a></li>
</ul></li>
<li><a href="#complex-pipelines-and-formula-semantics">Complex pipelines and formula semantics</a><ul>
<li><a href="#using-formulae-in-pipelines">Using formulae in pipelines</a></li>
<li><a href="#differences-between-outasin-and-formulae---when-to-use-what">Differences between <code>outAsIn</code> and formulae - When to use what</a></li>
</ul></li>
<li><a href="#visualizing-pipelines">Visualizing pipelines</a></li>
<li><a href="#generating-reports">Generating reports</a></li>
<li><a href="#saving-and-loading-pipelines">Saving and loading pipelines</a></li>
<li><a href="#details-of-execution">Details of execution</a><ul>
<li><a href="#execution-mechanism">Execution mechanism</a><ul>
<li><a href="#topological-sort-and-ordering">Topological sort and ordering</a></li>
<li><a href="#memory-management-garbage-cleaning">Memory management &amp; garbage cleaning</a></li>
<li><a href="#type-conversions">Type conversions</a></li>
</ul></li>
<li><a href="#logging-execution-times">Logging &amp; Execution times</a></li>
<li><a href="#custom-exception-handling">Custom exception-handling</a></li>
</ul></li>
<li><a href="#saving-and-loading-registries">Saving and loading registries</a></li>
</ul>
</div>

<div id="an-overview-of-the-package" class="section level1">
<h1>An overview of the package</h1>
<p>In a typical data science workflow there are multiple steps involved; from data aggregation, cleaning, exploratory analysis, modeling and so on. As the data science community matures, we are seeing that there are a variety of languages which provide better capabilities for specific steps in the data science workflow. <em>R</em> is typically used for data transformations, statistical models, and visualizations, while <em>Python</em> provides more robust functions for machine learning. In addition to this, <em>Spark</em> provides an environment to process high volume data - both as one-time/ batches or as streams.</p>
<p>The job of today’s data scientist is changing from one where they are married to a specific tool or language, to one where they are using all these tools for their specialized purposes. The key problem then becomes one of translation between these tools for seamless analysis. Additionally, in the work of a data scientist, there is a need to perform the same task repeatedly, as well as put certain analysis flows (or) pipelines into production to work on new data periodically, or work on streaming data.</p>
<p>Recently, interfaces for using these various tools have been published. In terms of R packages, the <em>reticulate</em> package provides an interface to Python, and the <em>SparkR</em> and <em>sparklyr</em> packages provide an interface to Spark.</p>
<p>The <em>analysisPipelines</em> package uses these interfaces to enable <em>Interoperable Pipelines</em> i.e. the ability compose and execute a reusable data science pipeline which can contain functions to be executed in an <em>R</em> environment, in a <em>Python</em> environment or in a <em>Spark</em> environment. These pipelines can be saved and loaded, to enable batch operation as datasets get updated with new data.</p>
<p>The goal of the <em>analysisPipelines</em> package is to make the job of the data scientist easier and help them compose pipelines of analysis which consist of data manipulation, exploratory analysis &amp; reporting, as well as modeling steps. The idea is for data scientists to use tools of their choice through an <em>R</em> interface, using this package Essentially, it allows data scientists to:</p>
<ul>
<li>Compose <strong>reusable, interoperable</strong> pipelines in a flexible manner</li>
<li>Leverage available utility functions for performing different analytical operations</li>
<li>Put these pipelines into production in order to execute repeatedly</li>
<li>Generated analysis reports by executing these pipelines</li>
</ul>
<div id="types-of-pipelines" class="section level2">
<h2>Types of pipelines</h2>
<p>This package supports for both <em>batch/ repeated</em> pipelines, as well as <em>streaming pipelines.</em></p>
<p>For <em>batch</em> pipelines, the vision is to enable interoperable pipelines which execute efficiently with functions in <em>R</em>, <em>Spark</em> and <em>Python</em></p>
<p>For <em>streaming</em> pipelines, the package allows for streaming analyses through <em>Apache Spark Structured Streaming.</em></p>
</div>
<div id="classes-and-implementation" class="section level2">
<h2>Classes and implementation</h2>
<p>The <em>analysisPipelines</em> package uses S4 classes and methods to implement all the core functionality. The fundamental class exposed in this package is the <em>BaseAnalysisPipeline</em> class on which most of the core functions are implemented. The user, however, interacts with the <em>AnalysisPipeline</em> and <em>StreamingAnalysisPipeline</em> classes for batch and streaming analysis respectively. In this vignette, we work with the <em>AnalysisPipeline</em> class, with functions solely in R.</p>
</div>
<div id="pipelining-semantics" class="section level2">
<h2>Pipelining semantics</h2>
<p>The package stays true to the <em>tidyverse</em> pipelining style which also fits nicely into the idea of creating pipelines. The core mechanism in the package is too instantiate a pipeline with data and then pipeline required functions to the object itself.</p>
<p>The package allows both the use of <em>magrittr</em> pipe <strong>(%&gt;%)</strong> or the <em>pipeR</em> pipe <strong>(%&gt;&gt;%)</strong>.</p>
</div>
<div id="supported-engines" class="section level2">
<h2>Supported engines</h2>
<p>As of this version, the package supports functions executed on <em>R</em>, or <em>Spark</em> through the SparkR interface for batch pipelines. It also supports <em>Spark Structured Streaming</em> pipelines for streaming analyses. In subsequent releases, <em>Python</em> will also be supported</p>
</div>
<div id="available-vignettes" class="section level2">
<h2>Available vignettes</h2>
<p>This package contains 5 vignettes:</p>
<ul>
<li>This is the main vignette describing the package’s core functionality, and explaining this through <strong>batch</strong> pipelines in just <strong>R</strong></li>
<li><strong>Analysis pipelines for working with Spark DataFrames for one-time/ batch analyses</strong> - This vignette describes creating <strong>batch</strong> pipelines to execute solely in a <em>Spark</em> environment</li>
<li><strong>Analysis pipelines for working with Python functions</strong> - This vignette describes creating <strong>batch</strong> pipelines to execute solely in a <em>Python</em> environment</li>
<li><strong>Interoperable analysis pipelines</strong> - This vignette describes creating and executing <strong>batch</strong> pipelines which are composed of functions executing across <em>supported engines</em></li>
<li><strong>Streaming Analysis Pipelines for working with Apache Spark Structured Streaming</strong> - This vignette describes setting up streaming pipelines on <em>Apache Spark Structured Streaming</em></li>
<li><strong>Using pipelines inside Shiny widgets or apps</strong> - A brief vignette which illustrates an example of using a pipeline inside a shiny widget with reactive elements and changing data</li>
<li><strong>An introduction to meta-pipelines</strong> - This vignette illustrates the use of meta-pipelines</li>
</ul>
</div>
</div>
<div id="usage" class="section level1">
<h1>Usage</h1>
<div id="loading-the-package" class="section level2">
<h2>Loading the package</h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw">library</span>(analysisPipelines)</a>
<a class="sourceLine" id="cb1-2" data-line-number="2">knitr<span class="op">::</span>opts_chunk<span class="op">$</span><span class="kw">set</span>(<span class="dt">warning =</span> <span class="ot">FALSE</span>)</a></code></pre></div>
</div>
<div id="creating-an-analysispipeline-object" class="section level2">
<h2>Creating an analysisPipeline object</h2>
<p>An object of class <em>AnalysisPipeline</em> can be created like so:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1">obj &lt;-<span class="st"> </span><span class="kw">AnalysisPipeline</span>(<span class="dt">input =</span> iris)</a>
<a class="sourceLine" id="cb2-2" data-line-number="2"></a>
<a class="sourceLine" id="cb2-3" data-line-number="3"><span class="kw">class</span>(obj)</a></code></pre></div>
<pre><code>## [1] &quot;AnalysisPipeline&quot;
## attr(,&quot;package&quot;)
## [1] &quot;analysisPipelines&quot;</code></pre>
<p>While initializing the object, an input dataframe can be provided on which the pipeline should work, either by providing the filePath to a <em>.csv</em> file through the <em>filePath</em> argument, or by providing R dataframe available in the session, through the <em>input</em> argument</p>
<p>The <em>AnalysisPipeline</em> object has a set of getters, for retrieving various slots containing data and metadata required for pipeline execution. The most basic of them is the <em>getInput</em> method which retrieves the input dataframe with which the object has been initialized. If not initialized with a dataframe, the <em>setInput</em> method can be used to do so.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1">obj <span class="op">%&gt;&gt;%</span><span class="st"> </span>getInput <span class="op">%&gt;&gt;%</span><span class="st"> </span>str</a></code></pre></div>
<pre><code>## 'data.frame':    150 obs. of  5 variables:
##  $ Sepal.Length: num  5.1 4.9 4.7 4.6 5 5.4 4.6 5 4.4 4.9 ...
##  $ Sepal.Width : num  3.5 3 3.2 3.1 3.6 3.9 3.4 3.4 2.9 3.1 ...
##  $ Petal.Length: num  1.4 1.4 1.3 1.5 1.4 1.7 1.4 1.5 1.4 1.5 ...
##  $ Petal.Width : num  0.2 0.2 0.2 0.2 0.2 0.4 0.3 0.2 0.2 0.1 ...
##  $ Species     : Factor w/ 3 levels &quot;setosa&quot;,&quot;versicolor&quot;,..: 1 1 1 1 1 1 1 1 1 1 ...</code></pre>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1"><span class="kw">getRegistry</span>()</a></code></pre></div>
<pre><code>## # A tibble: 8 x 7
##   functionName heading engine exceptionHandli… userDefined isDataFunction
##   &lt;chr&gt;        &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;            &lt;lgl&gt;       &lt;lgl&gt;         
## 1 univarCatDi… &quot;Univa… r      genericPipeline… FALSE       TRUE          
## 2 outlierPlot  &quot;Univa… r      genericPipeline… FALSE       TRUE          
## 3 multiVarOut… &quot;Multi… r      genericPipeline… FALSE       TRUE          
## 4 ignoreCols   &quot;Ignor… r      genericPipeline… FALSE       TRUE          
## 5 getFeatures… &quot;&quot;      r      genericPipeline… FALSE       TRUE          
## 6 getTargetFo… &quot;&quot;      r      genericPipeline… FALSE       TRUE          
## 7 castKafkaSt… &quot;Cast … spark… genericPipeline… FALSE       TRUE          
## 8 convertKafk… &quot;Conve… spark… genericPipeline… FALSE       TRUE          
## # … with 1 more variable: firstArgClass &lt;chr&gt;</code></pre>
<p>The <em>getRegistry</em> function retrieves the set of functions and their metadata available for pipelining. Any <em>AnalysisPipeline</em> object comes with a set of pre-registered functions which can be used <strong>out-of-the-box</strong>. Of course, the user can register her own functions, to be used in the pipeline. We will look at this later on in the vignette.</p>
<p>There are two types of functions which can be pipelined:</p>
<ul>
<li><strong>Data functions</strong> - These functions necessarily take their <strong>first</strong> argument as a dataframe. These are functions focused on performing operations on data. Specifically, the nomenclature <em>data functions</em> is used for those functions which work on the input dataframe set to the pipeline object, and perform some transformation or analysis on them. They help form the main <em>path</em> in a pipeline, constituting a linear flow from the input.</li>
<li><strong>Non-data functions</strong> - These are auxiliary helper functions which are required in a pipeline, which may or may not operate on data. However, the <em>key</em> difference is that these functions do not operate on the <strong>input (or some direct transformation of it)</strong>. In essence, they help form auxiliary paths in the pipeline, which eventually merge into the main path.</li>
</ul>
<p>Both pre-registered and user-defined functions work with the <em>AnalysisPipeline</em> object in the same way i.e. regardless of who writes the function, they follow the same semantics.</p>
</div>
<div id="creating-a-simple-pipeline" class="section level2">
<h2>Creating a simple pipeline</h2>
<p>We’ll now take a look at creating a simple pipeline, with some of the pre-registered functions available in the registry. We pipeline the <em>univarCatDistPlots</em> function (available as a pre-registered utility function,which generates a chart showing distribution of a categorical variable in a dataset), by simply using the <em>pipe</em> or <em>double pipe</em> operator, and providing the required additional parameters apart from the <em>data</em> on which it needs to operate, as we have already initialized the <em>AnalysisPipeline</em> object with the data.</p>
<p>Note that unless assigned to the same or another object, the pipeline does not get stored.</p>
<p>We can access the details of the pipeline as a tibble through the <code>getPipeline</code> method.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1"><span class="co"># Running univariate categorical distribution plot on the constructed object</span></a>
<a class="sourceLine" id="cb8-2" data-line-number="2"><span class="co"># ?analysisPipelines::univarCatDistPlots</span></a>
<a class="sourceLine" id="cb8-3" data-line-number="3">obj1 &lt;-<span class="st"> </span>obj <span class="op">%&gt;&gt;%</span><span class="st"> </span><span class="kw">univarCatDistPlots</span>(<span class="dt">uniCol =</span> <span class="st">&quot;Species&quot;</span>, <span class="dt">priColor =</span> <span class="st">&quot;blue&quot;</span>, <span class="dt">optionalPlots =</span> <span class="dv">0</span>, <span class="dt">storeOutput =</span> T)</a>
<a class="sourceLine" id="cb8-4" data-line-number="4">obj1 <span class="op">%&gt;&gt;%</span><span class="st"> </span>getPipeline</a></code></pre></div>
<pre><code>## # A tibble: 1 x 6
##   id    operation     heading              parameters   outAsIn storeOutput
##   &lt;chr&gt; &lt;chr&gt;         &lt;chr&gt;                &lt;list&gt;       &lt;lgl&gt;   &lt;lgl&gt;      
## 1 1     univarCatDis… Univariate Distribu… &lt;named list… FALSE   TRUE</code></pre>
<p>We now construct a pipeline with a couple of functions, one to generate a categorical distribution plot, and another one for outliers.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" data-line-number="1"><span class="co"># Running univariate categorical distribution plot and then </span></a>
<a class="sourceLine" id="cb10-2" data-line-number="2"><span class="co"># outlier detection on the constructed object</span></a>
<a class="sourceLine" id="cb10-3" data-line-number="3"></a>
<a class="sourceLine" id="cb10-4" data-line-number="4">obj <span class="op">%&gt;&gt;%</span><span class="st"> </span><span class="kw">univarCatDistPlots</span>(<span class="dt">uniCol =</span> <span class="st">&quot;Species&quot;</span>, <span class="dt">priColor =</span> <span class="st">&quot;green&quot;</span>, <span class="dt">optionalPlots =</span> <span class="dv">0</span>) <span class="op">%&gt;&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb10-5" data-line-number="5"><span class="st">         </span><span class="kw">outlierPlot</span>(<span class="dt">method =</span> <span class="st">&quot;iqr&quot;</span>, <span class="dt">columnName =</span> <span class="st">&quot;Sepal.Length&quot;</span>, </a>
<a class="sourceLine" id="cb10-6" data-line-number="6">              <span class="dt">cutoffValue =</span> <span class="fl">0.01</span>, <span class="dt">priColor =</span> <span class="st">&quot;blue&quot;</span>, <span class="dt">optionalPlots =</span> <span class="dv">0</span>, <span class="dt">storeOutput =</span> T) -&gt;<span class="st"> </span>obj2</a>
<a class="sourceLine" id="cb10-7" data-line-number="7">obj2 <span class="op">%&gt;&gt;%</span><span class="st"> </span>getPipeline</a></code></pre></div>
<pre><code>## # A tibble: 2 x 6
##   id    operation     heading              parameters   outAsIn storeOutput
##   &lt;chr&gt; &lt;chr&gt;         &lt;chr&gt;                &lt;list&gt;       &lt;lgl&gt;   &lt;lgl&gt;      
## 1 1     univarCatDis… Univariate Distribu… &lt;named list… FALSE   FALSE      
## 2 2     outlierPlot   Univariate Outlier   &lt;named list… FALSE   TRUE</code></pre>
<p>Apart from the parameters required for the function, a couple of additional parameters can be passed to registered functions when adding them to the pipeline:</p>
<ul>
<li><strong>outAsIn</strong> - This parameter defines if the original dataframe with which the object was initialized should be taken as input to this function (for data functions), or the output of the previous function in the pipeline should be used. By default, this is FALSE</li>
<li><strong>storeOutput</strong> - Whether the output of this step in the pipeline should be stored. By default, this is FALSE.</li>
</ul>
</div>
<div id="lazy-evaluation" class="section level2">
<h2>Lazy evaluation</h2>
<p>It is important to note that the functions in the pipeline are not actually <strong>called</strong> when the pipeline is defined. This can be seen by looking at the <em>output</em> slot of the pipeline we defined above.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" data-line-number="1"><span class="kw">length</span>(obj1<span class="op">@</span>output)</a></code></pre></div>
<pre><code>## [1] 0</code></pre>
<p>The pipeline can be executed by explicitly calling the <code>generateOutput</code> method and assigning it to a variable.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" data-line-number="1">obj1Output &lt;-<span class="st"> </span>obj1 <span class="op">%&gt;&gt;%</span><span class="st"> </span>generateOutput</a></code></pre></div>
<pre><code>## INFO [2020-06-12 13:08:04] ||  Engine Assessment for pipeline STARTED  ||
## INFO [2020-06-12 13:08:06] ||  Engine Assessment COMPLETE. Time taken : 1.27664971351624 seconds||
## INFO [2020-06-12 13:08:06] ||  Pipeline Prep. STARTED  ||
## INFO [2020-06-12 13:08:06] ||  Pipeline Prep. COMPLETE. Time taken : 0.0949983596801758 seconds||
## INFO [2020-06-12 13:08:06] ||  Pipeline Execution STARTED  ||
## INFO [2020-06-12 13:08:06] ||  Executing Batch Number : 1/1 containing functions 'univarCatDistPlots' ||
## INFO [2020-06-12 13:08:06] ||  Function ID '1' named 'univarCatDistPlots' STARTED on the 'r' engine ||
## INFO [2020-06-12 13:08:06] ||  Function ID '1' named 'univarCatDistPlots' COMPLETED. Time taken : 0.100099802017212 seconds  ||
## INFO [2020-06-12 13:08:06] ||  Batch Number 1/1 COMPLETE. Time taken : 0.111313819885254 seconds  ||
## INFO [2020-06-12 13:08:06] ||  Performing final garbage cleaning and collection of outputs  ||
## INFO [2020-06-12 13:08:06] ||  Pipeline Execution COMPLETE. Time taken : 0.156698942184448 seconds||</code></pre>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" data-line-number="1"><span class="kw">length</span>(obj1Output<span class="op">@</span>output)</a></code></pre></div>
<pre><code>## [1] 1</code></pre>
<p>Observe that the length of the output list of the first object (the chunk above) remains 0 since the generated output was assigned to a new object.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb18-1" data-line-number="1"><span class="kw">length</span>(obj1<span class="op">@</span>output)</a></code></pre></div>
<pre><code>## [1] 0</code></pre>
<p>A specific output can be viewed by providing the ID of the function in the pipeline to the <code>getOutputById</code> method. The ID can be obtained from the <em>id</em> column in the <em>pipeline</em> tibble. corresponding to the function whose output is desired.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb20-1" data-line-number="1"><span class="co"># The index can range from 1 to length(obj@output)</span></a>
<a class="sourceLine" id="cb20-2" data-line-number="2">obj1Output <span class="op">%&gt;&gt;%</span><span class="st"> </span><span class="kw">getOutputById</span>(<span class="st">&quot;1&quot;</span>)</a></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
</div>
</div>
<div id="user-defined-functions" class="section level1">
<h1>User-defined functions</h1>
<div id="registering-your-own-function" class="section level2">
<h2>Registering your own function</h2>
<p>You can register your own <em>data</em> or <em>non-data</em> functions by calling <code>registerFunction.</code> This adds the user-defined function to the registry. The registry is maintained by the package and once registered, functions can be used across pipeline objects. The registry can be view by calling the <code>getRegistry</code> function.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb21-1" data-line-number="1"><span class="co"># Currently registered functions</span></a>
<a class="sourceLine" id="cb21-2" data-line-number="2"><span class="kw">getRegistry</span>()</a></code></pre></div>
<pre><code>## # A tibble: 8 x 7
##   functionName heading engine exceptionHandli… userDefined isDataFunction
##   &lt;chr&gt;        &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;            &lt;lgl&gt;       &lt;lgl&gt;         
## 1 univarCatDi… &quot;Univa… r      genericPipeline… FALSE       TRUE          
## 2 outlierPlot  &quot;Univa… r      genericPipeline… FALSE       TRUE          
## 3 multiVarOut… &quot;Multi… r      genericPipeline… FALSE       TRUE          
## 4 ignoreCols   &quot;Ignor… r      genericPipeline… FALSE       TRUE          
## 5 getFeatures… &quot;&quot;      r      genericPipeline… FALSE       TRUE          
## 6 getTargetFo… &quot;&quot;      r      genericPipeline… FALSE       TRUE          
## 7 castKafkaSt… &quot;Cast … spark… genericPipeline… FALSE       TRUE          
## 8 convertKafk… &quot;Conve… spark… genericPipeline… FALSE       TRUE          
## # … with 1 more variable: firstArgClass &lt;chr&gt;</code></pre>
<p>In order to register a function, first the function must be defined in the Global environment, before calling <code>registerFunction</code>.</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb23-1" data-line-number="1">bivariatePlots &lt;-<span class="st"> </span><span class="cf">function</span>(dataset, select_var_name_<span class="dv">1</span>, select_var_name_<span class="dv">2</span>, </a>
<a class="sourceLine" id="cb23-2" data-line-number="2">                       <span class="dt">priColor =</span> <span class="st">&quot;blue&quot;</span>, <span class="dt">secColor=</span><span class="st">'black'</span>) {</a>
<a class="sourceLine" id="cb23-3" data-line-number="3">  x=dataset[, select_var_name_<span class="dv">1</span>]</a>
<a class="sourceLine" id="cb23-4" data-line-number="4">  y=dataset[, select_var_name_<span class="dv">2</span>]</a>
<a class="sourceLine" id="cb23-5" data-line-number="5">  bivarPlot &lt;-<span class="st"> </span>ggplot2<span class="op">::</span><span class="kw">ggplot</span>(dataset, ggplot2<span class="op">::</span><span class="kw">aes</span>(x,y)) <span class="op">+</span></a>
<a class="sourceLine" id="cb23-6" data-line-number="6"><span class="st">    </span>ggplot2<span class="op">::</span><span class="kw">geom_point</span>(<span class="dt">color=</span>priColor,<span class="dt">alpha=</span><span class="fl">0.7</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb23-7" data-line-number="7"><span class="st">    </span>ggplot2<span class="op">::</span><span class="kw">geom_smooth</span>(<span class="dt">method =</span> lm,<span class="dt">color=</span>secColor) <span class="op">+</span></a>
<a class="sourceLine" id="cb23-8" data-line-number="8"><span class="st">    </span>ggplot2<span class="op">::</span><span class="kw">xlab</span>(select_var_name_<span class="dv">1</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb23-9" data-line-number="9"><span class="st">    </span>ggplot2<span class="op">::</span><span class="kw">ylab</span>(select_var_name_<span class="dv">2</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb23-10" data-line-number="10"><span class="st">    </span>ggplot2<span class="op">::</span><span class="kw">theme_bw</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb23-11" data-line-number="11"><span class="st">    </span>ggplot2<span class="op">::</span><span class="kw">ggtitle</span>(<span class="kw">paste</span>(<span class="st">'Bivariate plot for'</span>, select_var_name_<span class="dv">1</span>, </a>
<a class="sourceLine" id="cb23-12" data-line-number="12">                           <span class="st">'and'</span>, select_var_name_<span class="dv">2</span>, <span class="dt">sep=</span><span class="st">' '</span>)) <span class="op">+</span></a>
<a class="sourceLine" id="cb23-13" data-line-number="13"><span class="st">    </span>ggplot2<span class="op">::</span><span class="kw">theme</span>(<span class="dt">plot.title =</span> ggplot2<span class="op">::</span><span class="kw">element_text</span>(<span class="dt">hjust =</span> <span class="fl">0.5</span>, <span class="dt">size =</span> <span class="dv">10</span>), </a>
<a class="sourceLine" id="cb23-14" data-line-number="14">                   <span class="dt">axis.text =</span> ggplot2<span class="op">::</span><span class="kw">element_text</span>(<span class="dt">size=</span><span class="dv">10</span>),</a>
<a class="sourceLine" id="cb23-15" data-line-number="15">                   <span class="dt">axis.title=</span>ggplot2<span class="op">::</span><span class="kw">element_text</span>(<span class="dt">size=</span><span class="dv">10</span>))</a>
<a class="sourceLine" id="cb23-16" data-line-number="16">  <span class="kw">return</span>(bivarPlot)</a>
<a class="sourceLine" id="cb23-17" data-line-number="17">}</a>
<a class="sourceLine" id="cb23-18" data-line-number="18"></a>
<a class="sourceLine" id="cb23-19" data-line-number="19"><span class="kw">registerFunction</span>(<span class="dt">functionName =</span> <span class="st">&quot;bivariatePlots&quot;</span>, <span class="dt">heading =</span> <span class="st">&quot;Bivariate Analysis&quot;</span>)</a></code></pre></div>
<pre><code>## INFO [2020-06-12 13:08:06] ||  Function 'bivariatePlots' was registered successfully  ||</code></pre>
</div>
<div id="adding-the-newly-registered-function-to-a-pipeline" class="section level2">
<h2>Adding the newly registered function to a pipeline</h2>
<p>Now the newly registered user-defined function can be used as part of the pipeline, exactly as described before. For example, we add it to a pipeline which already contains some functions. The function then gets added to the end of the pipeline</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb25-1" data-line-number="1"><span class="co"># Chaining the user-defined function to the object's pipeline where it was registered</span></a>
<a class="sourceLine" id="cb25-2" data-line-number="2">obj2 &lt;-<span class="st"> </span>obj2 <span class="op">%&gt;&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb25-3" data-line-number="3"><span class="st">  </span><span class="kw">bivariatePlots</span>(<span class="dt">select_var_name_1 =</span> <span class="st">'Sepal.Length'</span>, <span class="dt">select_var_name_2 =</span> <span class="st">'Sepal.Width'</span>, </a>
<a class="sourceLine" id="cb25-4" data-line-number="4">                 <span class="dt">priColor =</span> <span class="st">&quot;blue&quot;</span>, <span class="dt">secColor =</span> <span class="st">&quot;black&quot;</span>)</a>
<a class="sourceLine" id="cb25-5" data-line-number="5"></a>
<a class="sourceLine" id="cb25-6" data-line-number="6"><span class="co"># Printing the updated pipeline</span></a>
<a class="sourceLine" id="cb25-7" data-line-number="7">obj2 <span class="op">%&gt;&gt;%</span><span class="st"> </span>getPipeline </a></code></pre></div>
<pre><code>## # A tibble: 3 x 6
##   id    operation     heading              parameters   outAsIn storeOutput
##   &lt;chr&gt; &lt;chr&gt;         &lt;chr&gt;                &lt;list&gt;       &lt;lgl&gt;   &lt;lgl&gt;      
## 1 1     univarCatDis… Univariate Distribu… &lt;named list… FALSE   FALSE      
## 2 2     outlierPlot   Univariate Outlier   &lt;named list… FALSE   TRUE       
## 3 3     bivariatePlo… Bivariate Analysis   &lt;named list… FALSE   FALSE</code></pre>
<p>The newly added function will also lazy evaluate depending on the trigger.</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb27-1" data-line-number="1">obj2Output &lt;-<span class="st"> </span>obj2 <span class="op">%&gt;&gt;%</span><span class="st"> </span><span class="kw">generateOutput</span>()</a></code></pre></div>
<pre><code>## INFO [2020-06-12 13:08:07] ||  Engine Assessment for pipeline STARTED  ||
## INFO [2020-06-12 13:08:07] ||  Engine Assessment COMPLETE. Time taken : 0.0155150890350342 seconds||
## INFO [2020-06-12 13:08:07] ||  Pipeline Prep. STARTED  ||
## INFO [2020-06-12 13:08:07] ||  Pipeline Prep. COMPLETE. Time taken : 0.0775268077850342 seconds||
## INFO [2020-06-12 13:08:07] ||  Pipeline Execution STARTED  ||
## INFO [2020-06-12 13:08:07] ||  Executing Batch Number : 1/1 containing functions 'univarCatDistPlots, outlierPlot, bivariatePlots' ||
## INFO [2020-06-12 13:08:07] ||  Function ID '1' named 'univarCatDistPlots' STARTED on the 'r' engine ||
## INFO [2020-06-12 13:08:07] ||  Function ID '1' named 'univarCatDistPlots' COMPLETED. Time taken : 0.0842931270599365 seconds  ||
## INFO [2020-06-12 13:08:07] ||  Function ID '2' named 'outlierPlot' STARTED on the 'r' engine ||
## INFO [2020-06-12 13:08:07] ||  Function ID '2' named 'outlierPlot' COMPLETED. Time taken : 0.0162217617034912 seconds  ||
## INFO [2020-06-12 13:08:07] ||  Function ID '3' named 'bivariatePlots' STARTED on the 'r' engine ||
## INFO [2020-06-12 13:08:07] ||  Function ID '3' named 'bivariatePlots' COMPLETED. Time taken : 0.0264449119567871 seconds  ||
## INFO [2020-06-12 13:08:07] ||  Batch Number 1/1 COMPLETE. Time taken : 0.148617029190063 seconds  ||
## INFO [2020-06-12 13:08:07] ||  Performing final garbage cleaning and collection of outputs  ||
## INFO [2020-06-12 13:08:07] ||  Pipeline Execution COMPLETE. Time taken : 0.243533134460449 seconds||</code></pre>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb29-1" data-line-number="1">obj2Output <span class="op">%&gt;&gt;%</span><span class="st"> </span><span class="kw">getOutputById</span>(<span class="st">&quot;1&quot;</span>)</a></code></pre></div>
<pre><code>## $call
## # A tibble: 1 x 7
##   id    operation   heading     parameters outAsIn storeOutput dependencies
##   &lt;chr&gt; &lt;chr&gt;       &lt;chr&gt;       &lt;list&gt;     &lt;lgl&gt;   &lt;lgl&gt;       &lt;list&gt;      
## 1 1     univarCatD… Univariate… &lt;named li… FALSE   FALSE       &lt;chr [0]&gt;   
## 
## $output
## [1] &quot;The output of this function was not configured to be stored&quot;</code></pre>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb31-1" data-line-number="1">obj2Output <span class="op">%&gt;&gt;%</span><span class="st"> </span><span class="kw">getPipeline</span>()</a></code></pre></div>
<pre><code>## # A tibble: 3 x 7
##   id    operation   heading     parameters outAsIn storeOutput dependencies
##   &lt;chr&gt; &lt;chr&gt;       &lt;chr&gt;       &lt;list&gt;     &lt;lgl&gt;   &lt;lgl&gt;       &lt;list&gt;      
## 1 1     univarCatD… Univariate… &lt;named li… FALSE   FALSE       &lt;chr [0]&gt;   
## 2 2     outlierPlot Univariate… &lt;named li… FALSE   TRUE        &lt;chr [0]&gt;   
## 3 3     bivariateP… Bivariate … &lt;named li… FALSE   FALSE       &lt;chr [0]&gt;</code></pre>
</div>
</div>
<div id="complex-pipelines-and-formula-semantics" class="section level1">
<h1>Complex pipelines and formula semantics</h1>
<p>In addition to the simple pipelines described above, more complex pipelines can also be defined. There are cases when the outputs of previous functions in the pipeline, as inputs to arbitrary parameters of subsequent functions. This is <em>apart</em> from the <strong>data</strong> which is passed through in a more <em>native</em> manner through the <em>outAsIn</em> argument to subsequent functions in the pipeline.</p>
<div id="using-formulae-in-pipelines" class="section level2">
<h2>Using formulae in pipelines</h2>
<p>The package defines certain <em>formula</em> semantics to accomplish this. We take the example of two simple user-defined functions, both which simply return the color of the graph, as well as the column on which the graph should be plotted, in order to illustrate how this works.</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb33-1" data-line-number="1">getColor &lt;-<span class="st"> </span><span class="cf">function</span>(color){</a>
<a class="sourceLine" id="cb33-2" data-line-number="2">  <span class="kw">return</span>(color)</a>
<a class="sourceLine" id="cb33-3" data-line-number="3">}</a>
<a class="sourceLine" id="cb33-4" data-line-number="4"></a>
<a class="sourceLine" id="cb33-5" data-line-number="5">getColumnName &lt;-<span class="cf">function</span>(columnName){</a>
<a class="sourceLine" id="cb33-6" data-line-number="6">  <span class="kw">return</span>(columnName)</a>
<a class="sourceLine" id="cb33-7" data-line-number="7">}</a>
<a class="sourceLine" id="cb33-8" data-line-number="8"></a>
<a class="sourceLine" id="cb33-9" data-line-number="9"><span class="kw">registerFunction</span>(<span class="dt">functionName =</span> <span class="st">&quot;getColor&quot;</span>, <span class="dt">isDataFunction =</span> F, <span class="dt">firstArgClass =</span> <span class="st">&quot;character&quot;</span>)</a></code></pre></div>
<pre><code>## INFO [2020-06-12 13:08:07] ||  Function 'getColor' was registered successfully  ||</code></pre>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb35-1" data-line-number="1"><span class="kw">registerFunction</span>(<span class="dt">functionName =</span> <span class="st">&quot;getColumnName&quot;</span>, <span class="dt">isDataFunction =</span> F, <span class="dt">firstArgClass =</span> <span class="st">&quot;character&quot;</span>)</a></code></pre></div>
<pre><code>## INFO [2020-06-12 13:08:07] ||  Function 'getColumnName' was registered successfully  ||</code></pre>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb37-1" data-line-number="1"><span class="kw">getRegistry</span>()</a></code></pre></div>
<pre><code>## # A tibble: 11 x 7
##    functionName heading engine exceptionHandli… userDefined isDataFunction
##    &lt;chr&gt;        &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;            &lt;lgl&gt;       &lt;lgl&gt;         
##  1 univarCatDi… &quot;Univa… r      genericPipeline… FALSE       TRUE          
##  2 outlierPlot  &quot;Univa… r      genericPipeline… FALSE       TRUE          
##  3 multiVarOut… &quot;Multi… r      genericPipeline… FALSE       TRUE          
##  4 ignoreCols   &quot;Ignor… r      genericPipeline… FALSE       TRUE          
##  5 getFeatures… &quot;&quot;      r      genericPipeline… FALSE       TRUE          
##  6 getTargetFo… &quot;&quot;      r      genericPipeline… FALSE       TRUE          
##  7 castKafkaSt… &quot;Cast … spark… genericPipeline… FALSE       TRUE          
##  8 convertKafk… &quot;Conve… spark… genericPipeline… FALSE       TRUE          
##  9 bivariatePl… &quot;Bivar… r      genericPipeline… TRUE        TRUE          
## 10 getColor     &quot;&quot;      r      genericPipeline… TRUE        FALSE         
## 11 getColumnNa… &quot;&quot;      r      genericPipeline… TRUE        FALSE         
## # … with 1 more variable: firstArgClass &lt;chr&gt;</code></pre>
<p>In the following pipeline, we pass the colour and column name we want to the <em>non-data</em> functions we defined, and use the output of those in subsequent functions. This can be done simply by specifying a <strong>formula</strong> of the form ‘f<em>id</em>’ against the argument to which we want to pass the output. The ID represents the ID of the function in the pipeline. For example, to pass the output of function with ID ‘1’ as an argument to a parameter of a subsequent function, the formula ‘~f1’ is passed to that corresponding argument.</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb39-1" data-line-number="1">obj <span class="op">%&gt;&gt;%</span><span class="st"> </span><span class="kw">getColor</span>(<span class="dt">color =</span> <span class="st">&quot;blue&quot;</span>) <span class="op">%&gt;&gt;%</span><span class="st"> </span><span class="kw">getColumnName</span>(<span class="dt">columnName =</span> <span class="st">&quot;Petal.Length&quot;</span>) <span class="op">%&gt;&gt;%</span></a>
<a class="sourceLine" id="cb39-2" data-line-number="2"><span class="st">      </span><span class="kw">univarCatDistPlots</span>(<span class="dt">uniCol =</span> <span class="st">&quot;Species&quot;</span>, <span class="dt">priColor =</span> <span class="op">~</span>f1, <span class="dt">optionalPlots =</span> <span class="dv">0</span>, <span class="dt">storeOutput =</span> T) <span class="op">%&gt;&gt;%</span></a>
<a class="sourceLine" id="cb39-3" data-line-number="3"><span class="st">      </span><span class="kw">outlierPlot</span>(<span class="dt">method =</span> <span class="st">&quot;iqr&quot;</span>, <span class="dt">columnName =</span> <span class="op">~</span>f2, <span class="dt">cutoffValue =</span> <span class="fl">0.01</span>, <span class="dt">priColor =</span> <span class="op">~</span>f1 , <span class="dt">optionalPlots =</span> <span class="dv">0</span>) -&gt;<span class="st"> </span>complexPipeline</a>
<a class="sourceLine" id="cb39-4" data-line-number="4"></a>
<a class="sourceLine" id="cb39-5" data-line-number="5">complexPipeline <span class="op">%&gt;&gt;%</span><span class="st"> </span>getPipeline</a></code></pre></div>
<pre><code>## # A tibble: 4 x 6
##   id    operation     heading              parameters   outAsIn storeOutput
##   &lt;chr&gt; &lt;chr&gt;         &lt;chr&gt;                &lt;list&gt;       &lt;lgl&gt;   &lt;lgl&gt;      
## 1 1     getColor      &quot;&quot;                   &lt;named list… FALSE   FALSE      
## 2 2     getColumnName &quot;&quot;                   &lt;named list… FALSE   FALSE      
## 3 3     univarCatDis… &quot;Univariate Distrib… &lt;named list… FALSE   TRUE       
## 4 4     outlierPlot   &quot;Univariate Outlier&quot; &lt;named list… FALSE   FALSE</code></pre>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb41-1" data-line-number="1">complexPipeline <span class="op">%&gt;&gt;%</span><span class="st"> </span>generateOutput -&gt;<span class="st"> </span>op</a></code></pre></div>
<pre><code>## INFO [2020-06-12 13:08:07] ||  Engine Assessment for pipeline STARTED  ||
## INFO [2020-06-12 13:08:07] ||  Engine Assessment COMPLETE. Time taken : 0.0144739151000977 seconds||
## INFO [2020-06-12 13:08:07] ||  Pipeline Prep. STARTED  ||
## INFO [2020-06-12 13:08:07] ||  Pipeline Prep. COMPLETE. Time taken : 0.0235037803649902 seconds||
## INFO [2020-06-12 13:08:07] ||  Pipeline Execution STARTED  ||
## INFO [2020-06-12 13:08:07] ||  Executing Batch Number : 1/2 containing functions 'getColor, getColumnName' ||
## INFO [2020-06-12 13:08:07] ||  Function ID '1' named 'getColor' STARTED on the 'r' engine ||
## INFO [2020-06-12 13:08:07] ||  Function ID '1' named 'getColor' COMPLETED. Time taken : 0.00516486167907715 seconds  ||
## INFO [2020-06-12 13:08:07] ||  Function ID '2' named 'getColumnName' STARTED on the 'r' engine ||
## INFO [2020-06-12 13:08:07] ||  Function ID '2' named 'getColumnName' COMPLETED. Time taken : 0.00536274909973145 seconds  ||
## INFO [2020-06-12 13:08:07] ||  Batch Number 1/2 COMPLETE. Time taken : 0.028419017791748 seconds  ||
## INFO [2020-06-12 13:08:07] ||  Executing Batch Number : 2/2 containing functions 'univarCatDistPlots, outlierPlot' ||
## INFO [2020-06-12 13:08:07] ||  Cleared intermediate outputs which are not required  ||
## INFO [2020-06-12 13:08:07] ||  Function ID '3' named 'univarCatDistPlots' STARTED on the 'r' engine ||
## INFO [2020-06-12 13:08:07] ||  Function ID '3' named 'univarCatDistPlots' COMPLETED. Time taken : 0.0118746757507324 seconds  ||
## INFO [2020-06-12 13:08:07] ||  Function ID '4' named 'outlierPlot' STARTED on the 'r' engine ||
## INFO [2020-06-12 13:08:07] ||  Function ID '4' named 'outlierPlot' COMPLETED. Time taken : 0.0555336475372314 seconds  ||
## INFO [2020-06-12 13:08:07] ||  Batch Number 2/2 COMPLETE. Time taken : 0.086395263671875 seconds  ||
## INFO [2020-06-12 13:08:07] ||  Performing final garbage cleaning and collection of outputs  ||
## INFO [2020-06-12 13:08:07] ||  Pipeline Execution COMPLETE. Time taken : 0.144899129867554 seconds||</code></pre>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb43-1" data-line-number="1">op <span class="op">%&gt;&gt;%</span><span class="st"> </span><span class="kw">getOutputById</span>(<span class="st">&quot;3&quot;</span>)</a></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
</div>
<div id="differences-between-outasin-and-formulae---when-to-use-what" class="section level2">
<h2>Differences between <code>outAsIn</code> and formulae - When to use what</h2>
<p>The package provides 2 mechanisms to pass outputs from previous functions to subsequent ones. The first one is the <code>outAsIn</code> parameter. This is limited only to <strong>transformations on data that the pipeline is instantiated with</strong> which need to be passed on and is limited to the output of the <em>immediate previous function</em> when defining the pipeline. This is provided as an easy-to-use intuitive interface for the common use case of performing a set of sequential data transformations on the input data before performing some kind of analysis. Therefore, this should be sufficient for simple, or linear pipelines.</p>
<p>Formula semantics are provided to implement more complex pipelines, and are not limited to data parameters. Any type of object which is an output of a previous function can be used in a subsequent function. The typical use of these formulae are to provide parameters to certain functions in the pipeline, which are the result of previous functions. Formula semantics can be used for the <strong>data parameter</strong> of data functions as well. This uses the output of the function specified, instead of the input data the object was instantiated with.</p>
<p>In essence, you can implement any kind of complex pipeline with formula semantics. The <code>outAsIn</code> parameter is provided as an easy-to-use shortcut for simpler linear pipelines. When a formula is specified for the first argument, the <code>outAsIn</code> parameter is rendered irrelevant.</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb44-1" data-line-number="1">exampleObj &lt;-<span class="st"> </span><span class="kw">AnalysisPipeline</span>(<span class="dt">input =</span> iris)</a>
<a class="sourceLine" id="cb44-2" data-line-number="2"></a>
<a class="sourceLine" id="cb44-3" data-line-number="3">filterData &lt;-<span class="st"> </span><span class="cf">function</span>(dataset, conditionVar, val){</a>
<a class="sourceLine" id="cb44-4" data-line-number="4">  condition &lt;-<span class="st"> </span><span class="kw">paste0</span>(conditionVar, <span class="st">'== &quot;'</span>, val, <span class="st">'&quot;'</span>)</a>
<a class="sourceLine" id="cb44-5" data-line-number="5">  dataSub &lt;-<span class="st"> </span>dataset <span class="op">%&gt;&gt;%</span><span class="st"> </span>dplyr<span class="op">::</span><span class="kw">filter_</span>(condition)</a>
<a class="sourceLine" id="cb44-6" data-line-number="6">  <span class="kw">return</span>(dataSub)</a>
<a class="sourceLine" id="cb44-7" data-line-number="7">}</a>
<a class="sourceLine" id="cb44-8" data-line-number="8"></a>
<a class="sourceLine" id="cb44-9" data-line-number="9">summarizeData &lt;-<span class="st"> </span><span class="cf">function</span>(dataset, conditionVar){</a>
<a class="sourceLine" id="cb44-10" data-line-number="10">  dataGrouped &lt;-<span class="st">  </span>dataset <span class="op">%&gt;&gt;%</span><span class="st"> </span>dplyr<span class="op">::</span><span class="kw">group_by_</span>(conditionVar) <span class="op">%&gt;&gt;%</span><span class="st"> </span>dplyr<span class="op">::</span><span class="kw">summarise_all</span>(dplyr<span class="op">::</span><span class="kw">funs</span>(<span class="dt">avg =</span> mean))</a>
<a class="sourceLine" id="cb44-11" data-line-number="11">  <span class="kw">return</span>(dataGrouped)</a>
<a class="sourceLine" id="cb44-12" data-line-number="12">}</a>
<a class="sourceLine" id="cb44-13" data-line-number="13"></a>
<a class="sourceLine" id="cb44-14" data-line-number="14">plotLine &lt;-<span class="st"> </span><span class="cf">function</span>(dataset, y, x){</a>
<a class="sourceLine" id="cb44-15" data-line-number="15">    p &lt;-<span class="st"> </span>ggplot2<span class="op">::</span><span class="kw">ggplot</span>(<span class="dt">data =</span> dataset, ggplot2<span class="op">::</span><span class="kw">aes_string</span>(<span class="dt">y =</span> y, <span class="dt">x =</span> x)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb44-16" data-line-number="16"><span class="st">         </span>ggplot2<span class="op">::</span><span class="kw">geom_line</span>(<span class="dt">color =</span> <span class="st">&quot;blue&quot;</span>)</a>
<a class="sourceLine" id="cb44-17" data-line-number="17">  <span class="kw">return</span>(p)</a>
<a class="sourceLine" id="cb44-18" data-line-number="18">}</a>
<a class="sourceLine" id="cb44-19" data-line-number="19"></a>
<a class="sourceLine" id="cb44-20" data-line-number="20">plotSummary &lt;-<span class="st"> </span><span class="cf">function</span>(d, summaryVar, groupingVar){</a>
<a class="sourceLine" id="cb44-21" data-line-number="21">  p &lt;-<span class="st"> </span>ggplot2<span class="op">::</span><span class="kw">ggplot</span>(<span class="dt">data =</span> d, ggplot2<span class="op">::</span><span class="kw">aes_string</span>(<span class="dt">y =</span> <span class="kw">paste0</span>(summaryVar, <span class="st">&quot;_avg&quot;</span>), <span class="dt">x =</span> groupingVar)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb44-22" data-line-number="22"><span class="st">         </span>ggplot2<span class="op">::</span><span class="kw">geom_col</span>(<span class="dt">fill =</span> <span class="st">&quot;blue&quot;</span>)</a>
<a class="sourceLine" id="cb44-23" data-line-number="23">  <span class="kw">return</span>(p)</a>
<a class="sourceLine" id="cb44-24" data-line-number="24">}</a>
<a class="sourceLine" id="cb44-25" data-line-number="25"></a>
<a class="sourceLine" id="cb44-26" data-line-number="26"><span class="kw">registerFunction</span>(<span class="st">&quot;filterData&quot;</span>)</a></code></pre></div>
<pre><code>## INFO [2020-06-12 13:08:08] ||  Function 'filterData' was registered successfully  ||</code></pre>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb46-1" data-line-number="1"><span class="kw">registerFunction</span>(<span class="st">&quot;summarizeData&quot;</span>)</a></code></pre></div>
<pre><code>## INFO [2020-06-12 13:08:08] ||  Function 'summarizeData' was registered successfully  ||</code></pre>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb48-1" data-line-number="1"><span class="kw">registerFunction</span>(<span class="st">&quot;plotLine&quot;</span>)</a></code></pre></div>
<pre><code>## INFO [2020-06-12 13:08:08] ||  Function 'plotLine' was registered successfully  ||</code></pre>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb50-1" data-line-number="1"><span class="kw">registerFunction</span>(<span class="st">&quot;plotSummary&quot;</span>)</a></code></pre></div>
<pre><code>## INFO [2020-06-12 13:08:08] ||  Function 'plotSummary' was registered successfully  ||</code></pre>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb52-1" data-line-number="1">exampleObj <span class="op">%&gt;&gt;%</span><span class="st">  </span><span class="kw">summarizeData</span>(<span class="dt">conditionVar =</span> <span class="st">&quot;Species&quot;</span>) <span class="op">%&gt;&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb52-2" data-line-number="2"><span class="st">                </span><span class="kw">filterData</span>(<span class="dt">conditionVar =</span> <span class="st">&quot;Species&quot;</span>, <span class="dt">val =</span> <span class="st">&quot;setosa&quot;</span>, <span class="dt">outAsIn =</span> F, <span class="dt">storeOutput =</span> F) <span class="op">%&gt;&gt;%</span></a>
<a class="sourceLine" id="cb52-3" data-line-number="3"><span class="st">                </span><span class="kw">plotLine</span>(<span class="dt">y =</span> <span class="st">&quot;Sepal.Length&quot;</span>, <span class="dt">x =</span> <span class="st">&quot;Sepal.Width&quot;</span>, <span class="dt">outAsIn =</span> T, <span class="dt">storeOutput =</span> T) <span class="op">%&gt;&gt;%</span></a>
<a class="sourceLine" id="cb52-4" data-line-number="4"><span class="st">                </span><span class="kw">plotSummary</span>(<span class="dt">d =</span> <span class="op">~</span>f1, <span class="dt">summaryVar =</span> <span class="st">&quot;Sepal.Length&quot;</span>, <span class="dt">groupingVar =</span> <span class="st">&quot;Species&quot;</span>, <span class="dt">storeOutput =</span> T) -&gt;</a>
<a class="sourceLine" id="cb52-5" data-line-number="5"><span class="st">  </span>exampleObj</a>
<a class="sourceLine" id="cb52-6" data-line-number="6"></a>
<a class="sourceLine" id="cb52-7" data-line-number="7"><span class="co">#exampleObj %&gt;&gt;% visualizePipeline</span></a>
<a class="sourceLine" id="cb52-8" data-line-number="8"><span class="co">#exampleObj %&gt;&gt;% generateOutput %&gt;&gt;% getOutputById(&quot;4&quot;)</span></a></code></pre></div>
</div>
</div>
<div id="visualizing-pipelines" class="section level1">
<h1>Visualizing pipelines</h1>
<p>These pipelines can be visualized by calling the <code>visualizePipeline</code> method. This generates the whole pipeline as a network, showing the engines on which each function is run, and which outputs are stored.</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb53-1" data-line-number="1">complexPipeline <span class="op">%&gt;&gt;%</span><span class="st"> </span>visualizePipeline</a></code></pre></div>
</div>
<div id="generating-reports" class="section level1">
<h1>Generating reports</h1>
<p>The generated output can easily be rendered into a beautiful, formatted report by calling the <code>generateReport</code> method. The report is a <em>html</em> file which contains the stored outputs, as well as a peek into the data and the pipeline that was executed.</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb54-1" data-line-number="1">obj2Output <span class="op">%&gt;&gt;%</span><span class="st"> </span><span class="kw">generateReport</span>(<span class="dt">path =</span> <span class="st">'~/Desktop'</span>)</a></code></pre></div>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb55-1" data-line-number="1">objRep &lt;-<span class="st"> </span>obj <span class="op">%&gt;&gt;%</span><span class="st"> </span><span class="kw">bivariatePlots</span>(<span class="dt">select_var_name_1 =</span> <span class="st">'Petal.Length'</span>,<span class="dt">select_var_name_2 =</span>  <span class="st">'Petal.Width'</span>, </a>
<a class="sourceLine" id="cb55-2" data-line-number="2">                           <span class="dt">priColor =</span> <span class="st">&quot;blue&quot;</span>, <span class="dt">secColor =</span> <span class="st">&quot;black&quot;</span>)</a>
<a class="sourceLine" id="cb55-3" data-line-number="3"></a>
<a class="sourceLine" id="cb55-4" data-line-number="4">objRep <span class="op">%&gt;&gt;%</span><span class="st"> </span><span class="kw">generateReport</span>(<span class="dt">path =</span> <span class="st">'~/Desktop'</span>)</a></code></pre></div>
</div>
<div id="saving-and-loading-pipelines" class="section level1">
<h1>Saving and loading pipelines</h1>
<p>Pipelines can also be saved and loaded for re-use and execution on new data. The pipeline can be saved by calling the <code>savePipeline</code> function. On save, both the pipeline and the existing state of the registry is saved (including both predefined as well as user-defined functions).</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb56-1" data-line-number="1">obj2 <span class="op">%&gt;&gt;%</span><span class="st"> </span><span class="kw">savePipeline</span>(<span class="dt">path =</span> <span class="st">'pipeline.RDS'</span>)</a></code></pre></div>
<p>This pipeline can be loaded and while loading <em>instantiated</em> with a new dataset of the <em>same</em> schema as that which was used in the original pipeline (in order to prevent errors). This can be used for a variety of purposes such as:</p>
<ul>
<li>predict on new data</li>
<li>perform certain data manipulations on new data</li>
<li>re-run the analysis on a different subset</li>
</ul>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb57-1" data-line-number="1"><span class="kw">library</span>(analysisPipelines)</a>
<a class="sourceLine" id="cb57-2" data-line-number="2">obj3 &lt;-<span class="st"> </span><span class="kw">loadPipeline</span>(<span class="dt">path =</span> <span class="st">'pipeline.RDS'</span>, <span class="dt">input =</span> iris) </a>
<a class="sourceLine" id="cb57-3" data-line-number="3"><span class="kw">getRegistry</span>()</a>
<a class="sourceLine" id="cb57-4" data-line-number="4">obj2 <span class="op">%&gt;%</span><span class="st"> </span>getPipeline</a></code></pre></div>
</div>
<div id="details-of-execution" class="section level1">
<h1>Details of execution</h1>
<p>This section provides an overview of how pipelines are executed, along with additional features such as <strong>logging</strong> and <strong>exception handling.</strong></p>
<div id="execution-mechanism" class="section level2">
<h2>Execution mechanism</h2>
<p>The ‘analysisPipelines’ package internally converts the pipeline defined by the user into a <strong>directed graph</strong> which captures dependencies of each function in the pipeline on data, other arguments as well as outputs as other functions.</p>
<div id="topological-sort-and-ordering" class="section level3">
<h3>Topological sort and ordering</h3>
<p>When it is required to generate the output, the pipeline is first <em>prepped</em> by performing a <strong>topological sort</strong> of the directed graph, and identifying <em>sets (or) batches</em> of independent functions and a sequence of <em>batches</em> for execution. A later release of the package will allow for parallel execution of these independent functions</p>
</div>
<div id="memory-management-garbage-cleaning" class="section level3">
<h3>Memory management &amp; garbage cleaning</h3>
<p>Memory is managed efficiently, by only storing outputs which the user has explicitly specified, or temporarily storing intermediate outputs required for subsequent functions <strong>only until</strong> they are required for processing. Garbage cleaning is performed after the execution of each <em>batch</em> in order to manage memory effectively.</p>
</div>
<div id="type-conversions" class="section level3">
<h3>Type conversions</h3>
<p>In the case of <em>Interoperable pipelines</em> executing across multiple engines such as <em>R, Spark and Python</em>, type conversions between data types in the different engines is <strong>minimized</strong> by identifying the optimal number of type conversions, before execution starts</p>
</div>
</div>
<div id="logging-execution-times" class="section level2">
<h2>Logging &amp; Execution times</h2>
<p>The package provides logging capabilities for execution of pipelines, as you might have noted when the output was generated in sections above. By default, logs are written to the <em>console</em>, but alternatively the user can specify an output file to which the logs need to be written through the <code>setLoggerDetails</code> function.</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb58-1" data-line-number="1">obj2 <span class="op">%&gt;&gt;%</span><span class="st"> </span><span class="kw">setLoggerDetails</span>(<span class="dt">target =</span> <span class="st">&quot;file&quot;</span>) -&gt;<span class="st"> </span>obj2</a></code></pre></div>
<p>Logs capture errors, as well as provide information on the steps being performed, execution times and so on.</p>
</div>
<div id="custom-exception-handling" class="section level2">
<h2>Custom exception-handling</h2>
<p>By default, when a function is registered, a generic exception handling function which captures the R error message, in case of error is registered against each function in the registry. The user can define a custom exception handling function, by defining it and providing it during the time of registration. The function should take 1 argument, which is the error object.</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb59-1" data-line-number="1">sampleFunction &lt;-<span class="st"> </span><span class="cf">function</span>(text){</a>
<a class="sourceLine" id="cb59-2" data-line-number="2">  <span class="kw">return</span>(text)</a>
<a class="sourceLine" id="cb59-3" data-line-number="3">}</a>
<a class="sourceLine" id="cb59-4" data-line-number="4"></a>
<a class="sourceLine" id="cb59-5" data-line-number="5">sampleException &lt;-<span class="st"> </span><span class="cf">function</span>(error){</a>
<a class="sourceLine" id="cb59-6" data-line-number="6">  <span class="kw">stop</span>(<span class="st">&quot;There was an error with the provided input&quot;</span>)</a>
<a class="sourceLine" id="cb59-7" data-line-number="7">}</a>
<a class="sourceLine" id="cb59-8" data-line-number="8"></a>
<a class="sourceLine" id="cb59-9" data-line-number="9"><span class="kw">registerFunction</span>(<span class="dt">functionName =</span> <span class="st">'sampleFunction'</span>, <span class="st">&quot;Sample&quot;</span>, <span class="dt">exceptionFunction =</span> <span class="st">&quot;sampleException&quot;</span>)</a></code></pre></div>
<pre><code>## INFO [2020-06-12 13:08:08] ||  Function 'sampleFunction' was registered successfully  ||</code></pre>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb61-1" data-line-number="1"><span class="kw">getRegistry</span>()</a></code></pre></div>
<pre><code>## # A tibble: 16 x 7
##    functionName heading engine exceptionHandli… userDefined isDataFunction
##    &lt;chr&gt;        &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;            &lt;lgl&gt;       &lt;lgl&gt;         
##  1 univarCatDi… &quot;Univa… r      genericPipeline… FALSE       TRUE          
##  2 outlierPlot  &quot;Univa… r      genericPipeline… FALSE       TRUE          
##  3 multiVarOut… &quot;Multi… r      genericPipeline… FALSE       TRUE          
##  4 ignoreCols   &quot;Ignor… r      genericPipeline… FALSE       TRUE          
##  5 getFeatures… &quot;&quot;      r      genericPipeline… FALSE       TRUE          
##  6 getTargetFo… &quot;&quot;      r      genericPipeline… FALSE       TRUE          
##  7 castKafkaSt… &quot;Cast … spark… genericPipeline… FALSE       TRUE          
##  8 convertKafk… &quot;Conve… spark… genericPipeline… FALSE       TRUE          
##  9 bivariatePl… &quot;Bivar… r      genericPipeline… TRUE        TRUE          
## 10 getColor     &quot;&quot;      r      genericPipeline… TRUE        FALSE         
## 11 getColumnNa… &quot;&quot;      r      genericPipeline… TRUE        FALSE         
## 12 filterData   &quot;&quot;      r      genericPipeline… TRUE        TRUE          
## 13 summarizeDa… &quot;&quot;      r      genericPipeline… TRUE        TRUE          
## 14 plotLine     &quot;&quot;      r      genericPipeline… TRUE        TRUE          
## 15 plotSummary  &quot;&quot;      r      genericPipeline… TRUE        TRUE          
## 16 sampleFunct… &quot;Sampl… r      sampleException  TRUE        TRUE          
## # … with 1 more variable: firstArgClass &lt;chr&gt;</code></pre>
</div>
</div>
<div id="saving-and-loading-registries" class="section level1">
<h1>Saving and loading registries</h1>
<p>Registries can be saved and loaded like pipelines. The characteristic of the registry is that it is shared across all pipelines in a particular session. Therefore, when a registry is loaded it overwrites the existing registry in the session</p>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb63-1" data-line-number="1"><span class="kw">getRegistry</span>()</a>
<a class="sourceLine" id="cb63-2" data-line-number="2"><span class="kw">saveRegistry</span>(<span class="st">&quot;./registry.RDS&quot;</span>)</a>
<a class="sourceLine" id="cb63-3" data-line-number="3"><span class="co">##.rs.restartR() # Run this on console to restart the R session</span></a>
<a class="sourceLine" id="cb63-4" data-line-number="4"><span class="kw">rm</span>(<span class="dt">list=</span><span class="kw">ls</span>(<span class="dt">all=</span><span class="ot">TRUE</span>)) <span class="co"># Remove all objects in the R environment</span></a>
<a class="sourceLine" id="cb63-5" data-line-number="5"><span class="kw">getRegistry</span>()</a>
<a class="sourceLine" id="cb63-6" data-line-number="6"></a>
<a class="sourceLine" id="cb63-7" data-line-number="7"><span class="kw">loadRegistry</span>(<span class="st">&quot;./registry.RDS&quot;</span>)</a>
<a class="sourceLine" id="cb63-8" data-line-number="8"><span class="kw">getRegistry</span>()</a></code></pre></div>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
